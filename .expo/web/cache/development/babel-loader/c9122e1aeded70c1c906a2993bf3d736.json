{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.extractProps = extractProps;\nexports.mergeUnderscoreProps = mergeUnderscoreProps;\nexports.calculateProps = calculateProps;\nexports.resolveValueWithBreakpoint = exports.extractPropertyFromFunction = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectDestructuringEmpty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\n\nvar _lodash2 = _interopRequireDefault(require(\"lodash.isnil\"));\n\nvar _lodash3 = _interopRequireDefault(require(\"lodash.mergewith\"));\n\nvar _lodash4 = _interopRequireDefault(require(\"lodash.clonedeep\"));\n\nvar _base = require(\"./../../theme/base\");\n\nvar _tools = require(\"./../../theme/tools\");\n\nvar _useContrastText = require(\"../useContrastText\");\n\nfunction extractProps(props, theme, _ref, componentTheme, currentBreakpoint) {\n  (0, _objectDestructuringEmpty2.default)(_ref);\n  var newProps = {};\n\n  for (var property in props) {\n    if (_base.themePropertyMap[property]) {\n      var propValues = extractPropertyFromFunction(property, props, theme, componentTheme);\n\n      if (typeof propValues === 'string' || typeof propValues === 'number') {\n        newProps[property] = propValues;\n      } else if (!(0, _lodash2.default)(propValues)) {\n        for (var nestedProp in propValues) {\n          newProps[nestedProp] = (0, _lodash.default)(theme, _base.themePropertyMap[nestedProp] + \".\" + propValues[nestedProp], propValues[nestedProp]);\n        }\n      } else if (property === 'shadow') {\n        var shadowProps = theme[_base.themePropertyMap[property]][props[property]];\n\n        if (!(0, _lodash2.default)(shadowProps)) {\n          newProps = (0, _extends2.default)({}, newProps, shadowProps);\n        }\n      } else {\n        newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n      }\n    } else {\n      newProps[property] = resolveValueWithBreakpoint(props[property], theme.breakpoints, currentBreakpoint, property);\n    }\n  }\n\n  return (0, _lodash4.default)(newProps);\n}\n\nfunction filterDefaultProps(props, defaultProps) {\n  var _extractInObject = (0, _tools.extractInObject)(defaultProps, Object.keys(props)),\n      _extractInObject2 = (0, _slicedToArray2.default)(_extractInObject, 2),\n      resultProps = _extractInObject2[1];\n\n  return resultProps;\n}\n\nvar extractPropertyFromFunction = function extractPropertyFromFunction(property, props, theme, componentTheme) {\n  var propValues;\n\n  if (componentTheme && typeof componentTheme[_base.themePropertyMap[property]] === 'function') {\n    var funcProps = componentTheme[_base.themePropertyMap[property]]((0, _extends2.default)({\n      theme: theme\n    }, props));\n\n    var isNested = Object.keys(funcProps).some(function (key) {\n      return funcProps[key] && typeof funcProps[key] === 'object';\n    });\n    propValues = isNested ? (0, _extends2.default)({}, (0, _lodash.default)(funcProps, \"\" + props[property])) : (0, _extends2.default)({}, funcProps);\n  } else {\n    propValues = (0, _lodash.default)(componentTheme, _base.themePropertyMap[property] + \".\" + props[property]);\n  }\n\n  return propValues;\n};\n\nexports.extractPropertyFromFunction = extractPropertyFromFunction;\n\nfunction mergeUnderscoreProps(newProps, props) {\n  var _props = Object.keys(newProps).filter(function (propName) {\n    return propName.startsWith('_');\n  });\n\n  _props.forEach(function (propName) {\n    var _newProps$bg, _newProps$propName$co, _newProps$propName, _props$propName;\n\n    var bg = (_newProps$bg = newProps.bg) != null ? _newProps$bg : newProps.backgroundColor;\n    var textColor = bg ? {\n      color: (0, _useContrastText.useContrastText)(bg, (_newProps$propName$co = (_newProps$propName = newProps[propName]) == null ? void 0 : _newProps$propName.color) != null ? _newProps$propName$co : (_props$propName = props[propName]) == null ? void 0 : _props$propName.color)\n    } : {};\n    newProps[propName] = (0, _extends2.default)({}, textColor, newProps[propName], props[propName]);\n  });\n\n  return newProps;\n}\n\nvar resolveValueWithBreakpoint = function resolveValueWithBreakpoint(values, breakpointTheme, currentBreakpoint, property) {\n  if ((0, _tools.hasValidBreakpointFormat)(values, breakpointTheme, property)) {\n    return (0, _tools.findLastValidBreakpoint)(values, breakpointTheme, currentBreakpoint);\n  } else {\n    return values;\n  }\n};\n\nexports.resolveValueWithBreakpoint = resolveValueWithBreakpoint;\n\nfunction calculateProps(theme, colorModeProps, componentTheme, props, windowWidth) {\n  var currentBreakpoint = (0, _tools.getClosestBreakpoint)(theme.breakpoints, windowWidth);\n\n  if (!props) {\n    props = {};\n  }\n\n  var newProps;\n\n  if (componentTheme) {\n    newProps = extractProps(filterDefaultProps(props, componentTheme.defaultProps), theme, colorModeProps, componentTheme, currentBreakpoint);\n    var componentBaseStyle = typeof componentTheme.baseStyle !== 'function' ? componentTheme.baseStyle : componentTheme.baseStyle((0, _extends2.default)({\n      theme: theme\n    }, newProps, props, colorModeProps));\n    newProps = (0, _lodash3.default)(newProps, componentBaseStyle, function (objValue, srcValue, key) {\n      if (!(0, _lodash2.default)(objValue)) {\n        delete newProps[key];\n      }\n    });\n    var variant = props.variant || (0, _lodash.default)(componentTheme, 'defaultProps.variant');\n\n    if (variant && componentTheme.variants && componentTheme.variants[variant]) {\n      var colorScheme = props.colorScheme || (0, _lodash.default)(componentTheme, 'defaultProps.colorScheme');\n      var variantProps = componentTheme.variants[variant]((0, _extends2.default)({}, props, newProps, {\n        colorScheme: colorScheme,\n        theme: theme\n      }, colorModeProps));\n      variantProps = extractProps(variantProps, theme, colorModeProps, componentTheme, currentBreakpoint);\n      newProps = (0, _lodash3.default)(newProps, variantProps, function (objValue, srcValue, key) {\n        if (!(0, _lodash2.default)(objValue)) {\n          delete newProps[key];\n        }\n      });\n      delete newProps.variant;\n      delete newProps.colorScheme;\n    }\n  }\n\n  var extractedProps = extractProps(props, theme, colorModeProps, componentTheme, currentBreakpoint);\n  newProps = (0, _lodash3.default)(newProps, extractedProps, function (objValue, srcValue, key) {\n    if (!(0, _lodash2.default)(objValue)) {\n      delete newProps[key];\n    }\n  });\n  newProps = mergeUnderscoreProps(newProps, props);\n  return newProps;\n}","map":{"version":3,"sources":["/Users/garethcozens/Documents/repo/cloudratha/react-native-web-nx-demo/node_modules/native-base/lib/commonjs/hooks/useThemeProps/utils.js"],"names":["_interopRequireDefault","require","Object","value","exports","_slicedToArray2","_extends2","_objectDestructuringEmpty2","_lodash","_lodash2","_lodash3","_lodash4","_base","_tools","_useContrastText","newProps","propValues","extractPropertyFromFunction","property","shadowProps","theme","props","resolveValueWithBreakpoint","_extractInObject","_extractInObject2","resultProps","componentTheme","funcProps","isNested","_props","propName","bg","_newProps$bg","textColor","color","_newProps$propName$co","_newProps$propName","_props$propName","currentBreakpoint","extractProps","filterDefaultProps","componentBaseStyle","variant","colorScheme","variantProps","extractedProps","mergeUnderscoreProps"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.extractProps=extractProps;exports.mergeUnderscoreProps=mergeUnderscoreProps;exports.calculateProps=calculateProps;exports.resolveValueWithBreakpoint=exports.extractPropertyFromFunction=void 0;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _objectDestructuringEmpty2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectDestructuringEmpty\"));var _lodash=_interopRequireDefault(require(\"lodash.get\"));var _lodash2=_interopRequireDefault(require(\"lodash.isnil\"));var _lodash3=_interopRequireDefault(require(\"lodash.mergewith\"));var _lodash4=_interopRequireDefault(require(\"lodash.clonedeep\"));var _base=require(\"./../../theme/base\");var _tools=require(\"./../../theme/tools\");var _useContrastText=require(\"../useContrastText\");function extractProps(props,theme,_ref,componentTheme,currentBreakpoint){(0,_objectDestructuringEmpty2.default)(_ref);var newProps={};for(var property in props){if(_base.themePropertyMap[property]){var propValues=extractPropertyFromFunction(property,props,theme,componentTheme);if(typeof propValues==='string'||typeof propValues==='number'){newProps[property]=propValues;}else if(!(0,_lodash2.default)(propValues)){for(var nestedProp in propValues){newProps[nestedProp]=(0,_lodash.default)(theme,_base.themePropertyMap[nestedProp]+\".\"+propValues[nestedProp],propValues[nestedProp]);}}else if(property==='shadow'){var shadowProps=theme[_base.themePropertyMap[property]][props[property]];if(!(0,_lodash2.default)(shadowProps)){newProps=(0,_extends2.default)({},newProps,shadowProps);}}else{newProps[property]=resolveValueWithBreakpoint(props[property],theme.breakpoints,currentBreakpoint,property);}}else{newProps[property]=resolveValueWithBreakpoint(props[property],theme.breakpoints,currentBreakpoint,property);}}return(0,_lodash4.default)(newProps);}function filterDefaultProps(props,defaultProps){var _extractInObject=(0,_tools.extractInObject)(defaultProps,Object.keys(props)),_extractInObject2=(0,_slicedToArray2.default)(_extractInObject,2),resultProps=_extractInObject2[1];return resultProps;}var extractPropertyFromFunction=function extractPropertyFromFunction(property,props,theme,componentTheme){var propValues;if(componentTheme&&typeof componentTheme[_base.themePropertyMap[property]]==='function'){var funcProps=componentTheme[_base.themePropertyMap[property]]((0,_extends2.default)({theme:theme},props));var isNested=Object.keys(funcProps).some(function(key){return funcProps[key]&&typeof funcProps[key]==='object';});propValues=isNested?(0,_extends2.default)({},(0,_lodash.default)(funcProps,\"\"+props[property])):(0,_extends2.default)({},funcProps);}else{propValues=(0,_lodash.default)(componentTheme,_base.themePropertyMap[property]+\".\"+props[property]);}return propValues;};exports.extractPropertyFromFunction=extractPropertyFromFunction;function mergeUnderscoreProps(newProps,props){var _props=Object.keys(newProps).filter(function(propName){return propName.startsWith('_');});_props.forEach(function(propName){var _newProps$bg,_newProps$propName$co,_newProps$propName,_props$propName;var bg=(_newProps$bg=newProps.bg)!=null?_newProps$bg:newProps.backgroundColor;var textColor=bg?{color:(0,_useContrastText.useContrastText)(bg,(_newProps$propName$co=(_newProps$propName=newProps[propName])==null?void 0:_newProps$propName.color)!=null?_newProps$propName$co:(_props$propName=props[propName])==null?void 0:_props$propName.color)}:{};newProps[propName]=(0,_extends2.default)({},textColor,newProps[propName],props[propName]);});return newProps;}var resolveValueWithBreakpoint=function resolveValueWithBreakpoint(values,breakpointTheme,currentBreakpoint,property){if((0,_tools.hasValidBreakpointFormat)(values,breakpointTheme,property)){return(0,_tools.findLastValidBreakpoint)(values,breakpointTheme,currentBreakpoint);}else{return values;}};exports.resolveValueWithBreakpoint=resolveValueWithBreakpoint;function calculateProps(theme,colorModeProps,componentTheme,props,windowWidth){var currentBreakpoint=(0,_tools.getClosestBreakpoint)(theme.breakpoints,windowWidth);if(!props){props={};}var newProps;if(componentTheme){newProps=extractProps(filterDefaultProps(props,componentTheme.defaultProps),theme,colorModeProps,componentTheme,currentBreakpoint);var componentBaseStyle=typeof componentTheme.baseStyle!=='function'?componentTheme.baseStyle:componentTheme.baseStyle((0,_extends2.default)({theme:theme},newProps,props,colorModeProps));newProps=(0,_lodash3.default)(newProps,componentBaseStyle,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});var variant=props.variant||(0,_lodash.default)(componentTheme,'defaultProps.variant');if(variant&&componentTheme.variants&&componentTheme.variants[variant]){var colorScheme=props.colorScheme||(0,_lodash.default)(componentTheme,'defaultProps.colorScheme');var variantProps=componentTheme.variants[variant]((0,_extends2.default)({},props,newProps,{colorScheme:colorScheme,theme:theme},colorModeProps));variantProps=extractProps(variantProps,theme,colorModeProps,componentTheme,currentBreakpoint);newProps=(0,_lodash3.default)(newProps,variantProps,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});delete newProps.variant;delete newProps.colorScheme;}}var extractedProps=extractProps(props,theme,colorModeProps,componentTheme,currentBreakpoint);newProps=(0,_lodash3.default)(newProps,extractedProps,function(objValue,srcValue,key){if(!(0,_lodash2.default)(objValue)){delete newProps[key];}});newProps=mergeUnderscoreProps(newProps,props);return newProps;}\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}