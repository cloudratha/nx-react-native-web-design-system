{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _Text = _interopRequireDefault(require(\"../Text\"));\n\nvar _useThemeProps = require(\"../../../hooks/useThemeProps\");\n\nvar _useHasResponsiveProps = require(\"../../../hooks/useHasResponsiveProps\");\n\nvar _styled = require(\"../../../utils/styled\");\n\nvar _this = this,\n    _jsxFileName = \"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/primitives/Image/index.tsx\";\n\nvar StyledImage = (0, _styled.makeStyledComponent)(_reactNative.Image);\n\nvar Image = function Image(props, ref) {\n  var _usePropsResolution = (0, _useThemeProps.usePropsResolution)('Image', props),\n      source = _usePropsResolution.source,\n      src = _usePropsResolution.src,\n      fallbackElement = _usePropsResolution.fallbackElement,\n      alt = _usePropsResolution.alt,\n      fallbackSource = _usePropsResolution.fallbackSource,\n      ignoreFallback = _usePropsResolution.ignoreFallback,\n      _alt = _usePropsResolution._alt,\n      resolvedProps = (0, _objectWithoutProperties2.default)(_usePropsResolution, [\"source\", \"src\", \"fallbackElement\", \"alt\", \"fallbackSource\", \"ignoreFallback\", \"_alt\"]);\n\n  var finalSource = (0, _react.useRef)(null);\n  var getSource = (0, _react.useCallback)(function () {\n    if (source) {\n      finalSource.current = source;\n    } else if (src) {\n      finalSource.current = {\n        uri: src\n      };\n    }\n\n    return finalSource.current;\n  }, [source, src]);\n\n  var _useState = (0, _react.useState)(getSource()),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      renderedSource = _useState2[0],\n      setSource = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      alternate = _useState4[0],\n      setAlternate = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(true),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      fallbackSourceFlag = _useState6[0],\n      setfallbackSourceFlag = _useState6[1];\n\n  _react.default.useEffect(function () {\n    return function () {\n      finalSource.current = null;\n    };\n  }, [source, src, getSource]);\n\n  var onImageLoadError = (0, _react.useCallback)(function (event) {\n    props.onError && props.onError(event);\n    console.warn(event.nativeEvent.error);\n\n    if (!ignoreFallback && fallbackSource && fallbackSource !== renderedSource && fallbackSourceFlag) {\n      setfallbackSourceFlag(false);\n      setSource(fallbackSource);\n    } else {\n      setAlternate(true);\n    }\n  }, [fallbackSource, fallbackSourceFlag, ignoreFallback, props, renderedSource]);\n\n  if ((0, _useHasResponsiveProps.useHasResponsiveProps)(props)) {\n    return null;\n  }\n\n  if (!alt) {\n    console.warn('Please pass alt prop to Image component');\n  }\n\n  if (alternate) {\n    if (fallbackElement) {\n      if (_react.default.isValidElement(fallbackElement)) {\n        return fallbackElement;\n      }\n    } else return _react.default.createElement(_Text.default, (0, _extends2.default)({}, _alt, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }), alt);\n  }\n\n  return _react.default.createElement(StyledImage, (0, _extends2.default)({\n    source: renderedSource,\n    accessibilityLabel: alt,\n    alt: alt\n  }, resolvedProps, {\n    onError: onImageLoadError,\n    ref: ref,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar _default = (0, _react.memo)((0, _react.forwardRef)(Image));\n\nexports.default = _default;","map":{"version":3,"sources":["/Users/garethcozens/Documents/repo/cloudratha/react-native-web-nx-demo/node_modules/native-base/lib/commonjs/components/primitives/Image/index.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","value","exports","_extends2","_slicedToArray2","_objectWithoutProperties2","_react","_Text","_useThemeProps","_useHasResponsiveProps","_styled","_this","_jsxFileName","StyledImage","_reactNative","Image","_usePropsResolution","source","src","fallbackElement","alt","fallbackSource","ignoreFallback","_alt","resolvedProps","finalSource","getSource","uri","_useState","_useState2","renderedSource","setSource","_useState3","_useState4","alternate","setAlternate","_useState5","_useState6","fallbackSourceFlag","setfallbackSourceFlag","onImageLoadError","props","console","event","__self","__source","fileName","lineNumber","columnNumber","accessibilityLabel","onError","ref","_default"],"mappings":"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","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");var _interopRequireWildcard=require(\"@babel/runtime/helpers/interopRequireWildcard\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _Text=_interopRequireDefault(require(\"../Text\"));var _useThemeProps=require(\"../../../hooks/useThemeProps\");var _useHasResponsiveProps=require(\"../../../hooks/useHasResponsiveProps\");var _styled=require(\"../../../utils/styled\");var _this=this,_jsxFileName=\"/Users/adityajamuar/Sites/projects/nativebase/NativeBase/src/components/primitives/Image/index.tsx\";var StyledImage=(0,_styled.makeStyledComponent)(_reactNative.Image);var Image=function Image(props,ref){var _usePropsResolution=(0,_useThemeProps.usePropsResolution)('Image',props),source=_usePropsResolution.source,src=_usePropsResolution.src,fallbackElement=_usePropsResolution.fallbackElement,alt=_usePropsResolution.alt,fallbackSource=_usePropsResolution.fallbackSource,ignoreFallback=_usePropsResolution.ignoreFallback,_alt=_usePropsResolution._alt,resolvedProps=(0,_objectWithoutProperties2.default)(_usePropsResolution,[\"source\",\"src\",\"fallbackElement\",\"alt\",\"fallbackSource\",\"ignoreFallback\",\"_alt\"]);var finalSource=(0,_react.useRef)(null);var getSource=(0,_react.useCallback)(function(){if(source){finalSource.current=source;}else if(src){finalSource.current={uri:src};}return finalSource.current;},[source,src]);var _useState=(0,_react.useState)(getSource()),_useState2=(0,_slicedToArray2.default)(_useState,2),renderedSource=_useState2[0],setSource=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2.default)(_useState3,2),alternate=_useState4[0],setAlternate=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=(0,_slicedToArray2.default)(_useState5,2),fallbackSourceFlag=_useState6[0],setfallbackSourceFlag=_useState6[1];_react.default.useEffect(function(){return function(){finalSource.current=null;};},[source,src,getSource]);var onImageLoadError=(0,_react.useCallback)(function(event){props.onError&&props.onError(event);console.warn(event.nativeEvent.error);if(!ignoreFallback&&fallbackSource&&fallbackSource!==renderedSource&&fallbackSourceFlag){setfallbackSourceFlag(false);setSource(fallbackSource);}else{setAlternate(true);}},[fallbackSource,fallbackSourceFlag,ignoreFallback,props,renderedSource]);if((0,_useHasResponsiveProps.useHasResponsiveProps)(props)){return null;}if(!alt){console.warn('Please pass alt prop to Image component');}if(alternate){if(fallbackElement){if(_react.default.isValidElement(fallbackElement)){return fallbackElement;}}else return _react.default.createElement(_Text.default,(0,_extends2.default)({},_alt,{__self:_this,__source:{fileName:_jsxFileName,lineNumber:74,columnNumber:19}}),alt);}return _react.default.createElement(StyledImage,(0,_extends2.default)({source:renderedSource,accessibilityLabel:alt,alt:alt},resolvedProps,{onError:onImageLoadError,ref:ref,__self:_this,__source:{fileName:_jsxFileName,lineNumber:77,columnNumber:5}}));};var _default=(0,_react.memo)((0,_react.forwardRef)(Image));exports.default=_default;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}