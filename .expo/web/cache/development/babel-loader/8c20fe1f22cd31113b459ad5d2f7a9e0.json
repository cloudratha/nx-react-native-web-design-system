{"ast":null,"code":"'use strict';\n\nimport AnimatedValue from \"./nodes/AnimatedValue\";\nimport NativeAnimatedHelper from \"./NativeAnimatedHelper\";\nimport findNodeHandle from \"../../../exports/findNodeHandle\";\nimport invariant from 'fbjs/lib/invariant';\nimport { shouldUseNativeDriver } from \"./NativeAnimatedHelper\";\nvar __DEV__ = true;\nexport function attachNativeEvent(viewRef, eventName, argMapping) {\n  var eventMappings = [];\n\n  var traverse = function traverse(value, path) {\n    if (value instanceof AnimatedValue) {\n      value.__makeNative();\n\n      eventMappings.push({\n        nativeEventPath: path,\n        animatedValueTag: value.__getNativeTag()\n      });\n    } else if (typeof value === 'object') {\n      for (var _key in value) {\n        traverse(value[_key], path.concat(_key));\n      }\n    }\n  };\n\n  invariant(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.');\n  traverse(argMapping[0].nativeEvent, []);\n  var viewTag = findNodeHandle(viewRef);\n\n  if (viewTag != null) {\n    eventMappings.forEach(function (mapping) {\n      NativeAnimatedHelper.API.addAnimatedEventToView(viewTag, eventName, mapping);\n    });\n  }\n\n  return {\n    detach: function detach() {\n      if (viewTag != null) {\n        eventMappings.forEach(function (mapping) {\n          NativeAnimatedHelper.API.removeAnimatedEventFromView(viewTag, eventName, mapping.animatedValueTag);\n        });\n      }\n    }\n  };\n}\n\nfunction validateMapping(argMapping, args) {\n  var validate = function validate(recMapping, recEvt, key) {\n    if (recMapping instanceof AnimatedValue) {\n      invariant(typeof recEvt === 'number', 'Bad mapping of event key ' + key + ', should be number but got ' + typeof recEvt);\n      return;\n    }\n\n    if (typeof recEvt === 'number') {\n      invariant(recMapping instanceof AnimatedValue, 'Bad mapping of type ' + typeof recMapping + ' for key ' + key + ', event value must map to AnimatedValue');\n      return;\n    }\n\n    invariant(typeof recMapping === 'object', 'Bad mapping of type ' + typeof recMapping + ' for key ' + key);\n    invariant(typeof recEvt === 'object', 'Bad event of type ' + typeof recEvt + ' for key ' + key);\n\n    for (var mappingKey in recMapping) {\n      validate(recMapping[mappingKey], recEvt[mappingKey], mappingKey);\n    }\n  };\n\n  invariant(args.length >= argMapping.length, 'Event has less arguments than mapping');\n  argMapping.forEach(function (mapping, idx) {\n    validate(mapping, args[idx], 'arg' + idx);\n  });\n}\n\nexport var AnimatedEvent = function () {\n  function AnimatedEvent(argMapping, config) {\n    this._listeners = [];\n    this._argMapping = argMapping;\n\n    if (config == null) {\n      console.warn('Animated.event now requires a second argument for options');\n      config = {\n        useNativeDriver: false\n      };\n    }\n\n    if (config.listener) {\n      this.__addListener(config.listener);\n    }\n\n    this._callListeners = this._callListeners.bind(this);\n    this._attachedEvent = null;\n    this.__isNative = shouldUseNativeDriver(config);\n  }\n\n  var _proto = AnimatedEvent.prototype;\n\n  _proto.__addListener = function __addListener(callback) {\n    this._listeners.push(callback);\n  };\n\n  _proto.__removeListener = function __removeListener(callback) {\n    this._listeners = this._listeners.filter(function (listener) {\n      return listener !== callback;\n    });\n  };\n\n  _proto.__attach = function __attach(viewRef, eventName) {\n    invariant(this.__isNative, 'Only native driven events need to be attached.');\n    this._attachedEvent = attachNativeEvent(viewRef, eventName, this._argMapping);\n  };\n\n  _proto.__detach = function __detach(viewTag, eventName) {\n    invariant(this.__isNative, 'Only native driven events need to be detached.');\n    this._attachedEvent && this._attachedEvent.detach();\n  };\n\n  _proto.__getHandler = function __getHandler() {\n    var _this = this;\n\n    if (this.__isNative) {\n      if (__DEV__) {\n        var _validatedMapping = false;\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          if (!_validatedMapping) {\n            validateMapping(_this._argMapping, args);\n            _validatedMapping = true;\n          }\n\n          _this._callListeners.apply(_this, args);\n        };\n      } else {\n        return this._callListeners;\n      }\n    }\n\n    var validatedMapping = false;\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      if (__DEV__ && !validatedMapping) {\n        validateMapping(_this._argMapping, args);\n        validatedMapping = true;\n      }\n\n      var traverse = function traverse(recMapping, recEvt, key) {\n        if (recMapping instanceof AnimatedValue) {\n          if (typeof recEvt === 'number') {\n            recMapping.setValue(recEvt);\n          }\n        } else if (typeof recMapping === 'object') {\n          for (var mappingKey in recMapping) {\n            traverse(recMapping[mappingKey], recEvt[mappingKey], mappingKey);\n          }\n        }\n      };\n\n      _this._argMapping.forEach(function (mapping, idx) {\n        traverse(mapping, args[idx], 'arg' + idx);\n      });\n\n      _this._callListeners.apply(_this, args);\n    };\n  };\n\n  _proto._callListeners = function _callListeners() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this._listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  };\n\n  return AnimatedEvent;\n}();\n;\n\nvar _a, _b;\n\nif (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n  var currentExports = module.__proto__.exports;\n  var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n  self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n\n  if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n    module.hot.dispose(function (data) {\n      data.prevExports = currentExports;\n    });\n    module.hot.accept();\n\n    if (prevExports !== null) {\n      if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n        module.hot.invalidate();\n      } else {\n        self.$RefreshHelpers$.scheduleUpdate();\n      }\n    }\n  } else {\n    var isNoLongerABoundary = prevExports !== null;\n\n    if (isNoLongerABoundary) {\n      module.hot.invalidate();\n    }\n  }\n}","map":{"version":3,"sources":["/Users/garethcozens/Documents/repo/cloudratha/react-native-web-nx-demo/node_modules/react-native-web/dist/vendor/react-native/Animated/AnimatedEvent.js"],"names":["__DEV__","eventMappings","traverse","value","nativeEventPath","animatedValueTag","path","invariant","argMapping","viewTag","findNodeHandle","NativeAnimatedHelper","detach","mapping","validate","recMapping","recEvt","args","AnimatedEvent","config","console","useNativeDriver","shouldUseNativeDriver","_proto","listener","attachNativeEvent","_this","_validatedMapping","_len","arguments","_key2","validateMapping","validatedMapping","_len2","_key3","_len3","_key4"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\n'use strict';\n\nimport AnimatedValue from './nodes/AnimatedValue';\nimport NativeAnimatedHelper from './NativeAnimatedHelper';\nimport findNodeHandle from '../../../exports/findNodeHandle';\nimport invariant from 'fbjs/lib/invariant';\nimport { shouldUseNativeDriver } from './NativeAnimatedHelper';\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nexport function attachNativeEvent(viewRef, eventName, argMapping) {\n  // Find animated values in `argMapping` and create an array representing their\n  // key path inside the `nativeEvent` object. Ex.: ['contentOffset', 'x'].\n  var eventMappings = [];\n\n  var traverse = function traverse(value, path) {\n    if (value instanceof AnimatedValue) {\n      value.__makeNative();\n\n      eventMappings.push({\n        nativeEventPath: path,\n        animatedValueTag: value.__getNativeTag()\n      });\n    } else if (typeof value === 'object') {\n      for (var _key in value) {\n        traverse(value[_key], path.concat(_key));\n      }\n    }\n  };\n\n  invariant(argMapping[0] && argMapping[0].nativeEvent, 'Native driven events only support animated values contained inside `nativeEvent`.'); // Assume that the event containing `nativeEvent` is always the first argument.\n\n  traverse(argMapping[0].nativeEvent, []);\n  var viewTag = findNodeHandle(viewRef);\n\n  if (viewTag != null) {\n    eventMappings.forEach(function (mapping) {\n      NativeAnimatedHelper.API.addAnimatedEventToView(viewTag, eventName, mapping);\n    });\n  }\n\n  return {\n    detach: function detach() {\n      if (viewTag != null) {\n        eventMappings.forEach(function (mapping) {\n          NativeAnimatedHelper.API.removeAnimatedEventFromView(viewTag, eventName, // $FlowFixMe[incompatible-call]\n          mapping.animatedValueTag);\n        });\n      }\n    }\n  };\n}\n\nfunction validateMapping(argMapping, args) {\n  var validate = function validate(recMapping, recEvt, key) {\n    if (recMapping instanceof AnimatedValue) {\n      invariant(typeof recEvt === 'number', 'Bad mapping of event key ' + key + ', should be number but got ' + typeof recEvt);\n      return;\n    }\n\n    if (typeof recEvt === 'number') {\n      invariant(recMapping instanceof AnimatedValue, 'Bad mapping of type ' + typeof recMapping + ' for key ' + key + ', event value must map to AnimatedValue');\n      return;\n    }\n\n    invariant(typeof recMapping === 'object', 'Bad mapping of type ' + typeof recMapping + ' for key ' + key);\n    invariant(typeof recEvt === 'object', 'Bad event of type ' + typeof recEvt + ' for key ' + key);\n\n    for (var mappingKey in recMapping) {\n      validate(recMapping[mappingKey], recEvt[mappingKey], mappingKey);\n    }\n  };\n\n  invariant(args.length >= argMapping.length, 'Event has less arguments than mapping');\n  argMapping.forEach(function (mapping, idx) {\n    validate(mapping, args[idx], 'arg' + idx);\n  });\n}\n\nexport var AnimatedEvent = /*#__PURE__*/function () {\n  function AnimatedEvent(argMapping, config) {\n    this._listeners = [];\n    this._argMapping = argMapping;\n\n    if (config == null) {\n      console.warn('Animated.event now requires a second argument for options');\n      config = {\n        useNativeDriver: false\n      };\n    }\n\n    if (config.listener) {\n      this.__addListener(config.listener);\n    }\n\n    this._callListeners = this._callListeners.bind(this);\n    this._attachedEvent = null;\n    this.__isNative = shouldUseNativeDriver(config);\n  }\n\n  var _proto = AnimatedEvent.prototype;\n\n  _proto.__addListener = function __addListener(callback) {\n    this._listeners.push(callback);\n  };\n\n  _proto.__removeListener = function __removeListener(callback) {\n    this._listeners = this._listeners.filter(function (listener) {\n      return listener !== callback;\n    });\n  };\n\n  _proto.__attach = function __attach(viewRef, eventName) {\n    invariant(this.__isNative, 'Only native driven events need to be attached.');\n    this._attachedEvent = attachNativeEvent(viewRef, eventName, this._argMapping);\n  };\n\n  _proto.__detach = function __detach(viewTag, eventName) {\n    invariant(this.__isNative, 'Only native driven events need to be detached.');\n    this._attachedEvent && this._attachedEvent.detach();\n  };\n\n  _proto.__getHandler = function __getHandler() {\n    var _this = this;\n\n    if (this.__isNative) {\n      if (__DEV__) {\n        var _validatedMapping = false;\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          if (!_validatedMapping) {\n            validateMapping(_this._argMapping, args);\n            _validatedMapping = true;\n          }\n\n          _this._callListeners.apply(_this, args);\n        };\n      } else {\n        return this._callListeners;\n      }\n    }\n\n    var validatedMapping = false;\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      if (__DEV__ && !validatedMapping) {\n        validateMapping(_this._argMapping, args);\n        validatedMapping = true;\n      }\n\n      var traverse = function traverse(recMapping, recEvt, key) {\n        if (recMapping instanceof AnimatedValue) {\n          if (typeof recEvt === 'number') {\n            recMapping.setValue(recEvt);\n          }\n        } else if (typeof recMapping === 'object') {\n          for (var mappingKey in recMapping) {\n            /* $FlowFixMe(>=0.120.0) This comment suppresses an error found\n             * when Flow v0.120 was deployed. To see the error, delete this\n             * comment and run Flow. */\n            traverse(recMapping[mappingKey], recEvt[mappingKey], mappingKey);\n          }\n        }\n      };\n\n      _this._argMapping.forEach(function (mapping, idx) {\n        traverse(mapping, args[idx], 'arg' + idx);\n      });\n\n      _this._callListeners.apply(_this, args);\n    };\n  };\n\n  _proto._callListeners = function _callListeners() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    this._listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  };\n\n  return AnimatedEvent;\n}();"]},"metadata":{},"sourceType":"module"}