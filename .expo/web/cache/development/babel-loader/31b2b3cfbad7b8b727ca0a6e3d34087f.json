{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useMenuTypeahead = exports.useMenuOptionItem = exports.useMenuItem = exports.useMenu = exports.useMenuTrigger = void 0;\n\nvar _focus = require(\"@react-aria/focus\");\n\nvar _utils = require(\"@react-aria/utils\");\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar useMenuTrigger = function useMenuTrigger(_ref) {\n  var handleOpen = _ref.handleOpen,\n      isOpen = _ref.isOpen;\n  var menuTriggerId = (0, _utils.useId)();\n  return {\n    'onKeyDownCapture': function onKeyDownCapture(event) {\n      if ([' ', 'Enter', 'ArrowUp', 'ArrowDown'].includes(event.key)) {\n        event.preventDefault();\n        handleOpen();\n      }\n    },\n    'aria-haspopup': 'menu',\n    'aria-expanded': isOpen ? true : undefined,\n    'nativeID': menuTriggerId\n  };\n};\n\nexports.useMenuTrigger = useMenuTrigger;\n\nvar useMenu = function useMenu() {\n  var focusManager = (0, _focus.useFocusManager)();\n\n  var onKeyDown = function onKeyDown(e) {\n    switch (e.key) {\n      case 'ArrowDown':\n        {\n          e.preventDefault();\n          focusManager.focusNext({\n            wrap: true\n          });\n          break;\n        }\n\n      case 'ArrowUp':\n        {\n          e.preventDefault();\n          focusManager.focusPrevious({\n            wrap: true\n          });\n          break;\n        }\n    }\n  };\n\n  return {\n    onKeyDown: onKeyDown,\n    accessibilityRole: 'menu'\n  };\n};\n\nexports.useMenu = useMenu;\n\nvar useMenuItem = function useMenuItem(_ref2) {\n  var textValue = _ref2.textValue,\n      ref = _ref2.ref;\n  return {\n    accessibilityRole: 'menuitem',\n    dataSet: {\n      nativebaseMenuItem: textValue\n    },\n    onHoverIn: function onHoverIn() {\n      if (ref.current && _reactNative.Platform.OS === 'web') ref.current.focus();\n    }\n  };\n};\n\nexports.useMenuItem = useMenuItem;\n\nvar useMenuOptionItem = function useMenuOptionItem(_ref3) {\n  var isChecked = _ref3.isChecked,\n      type = _ref3.type;\n  return {\n    accessibilityRole: 'menuitem' + (_reactNative.Platform.OS === 'web' ? type : ''),\n    accessibilityState: {\n      checked: isChecked\n    },\n    accessibilityChecked: isChecked\n  };\n};\n\nexports.useMenuOptionItem = useMenuOptionItem;\nvar ITEM_ATTR = 'data-nativebase-menu-item';\n\nvar getValue = function getValue(element) {\n  var _element$getAttribute;\n\n  return (_element$getAttribute = element.getAttribute(ITEM_ATTR)) != null ? _element$getAttribute : '';\n};\n\nvar useMenuTypeahead = function useMenuTypeahead(props) {\n  return {\n    onKeyDown: function onKeyDown(event) {\n      if (props.onKeyDown) {\n        props.onKeyDown(event);\n      }\n\n      if (event.key.length === 1 && !(event.ctrlKey || event.altKey || event.metaKey)) {\n        var container = event.currentTarget;\n        var values = Array.from(container.querySelectorAll(\"[\" + ITEM_ATTR + \"]\")).map(getValue);\n        var searchKey = event.key;\n        var foundValue = values.find(function (value) {\n          return value.toLowerCase().startsWith(searchKey);\n        });\n        var newItem = container.querySelector(\"[\" + ITEM_ATTR + \"=\\\"\" + foundValue + \"\\\"]\");\n\n        if (newItem) {\n          setTimeout(function () {\n            return newItem.focus();\n          });\n        }\n      }\n    }\n  };\n};\n\nexports.useMenuTypeahead = useMenuTypeahead;","map":{"version":3,"sources":["/Users/garethcozens/Documents/repo/cloudratha/react-native-web-nx-demo/node_modules/native-base/lib/commonjs/components/composites/Menu/useMenu.js"],"names":["Object","value","exports","_focus","require","_utils","useMenuTrigger","handleOpen","_ref","isOpen","menuTriggerId","event","useMenu","focusManager","onKeyDown","e","wrap","accessibilityRole","useMenuItem","textValue","_ref2","ref","dataSet","nativebaseMenuItem","onHoverIn","_reactNative","useMenuOptionItem","isChecked","_ref3","type","accessibilityState","checked","accessibilityChecked","ITEM_ATTR","getValue","_element$getAttribute","element","useMenuTypeahead","props","container","values","Array","searchKey","foundValue","newItem","setTimeout"],"mappings":"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","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:true});exports.useMenuTypeahead=exports.useMenuOptionItem=exports.useMenuItem=exports.useMenu=exports.useMenuTrigger=void 0;var _focus=require(\"@react-aria/focus\");var _utils=require(\"@react-aria/utils\");var _reactNative=require(\"react-native\");var useMenuTrigger=function useMenuTrigger(_ref){var handleOpen=_ref.handleOpen,isOpen=_ref.isOpen;var menuTriggerId=(0,_utils.useId)();return{'onKeyDownCapture':function onKeyDownCapture(event){if([' ','Enter','ArrowUp','ArrowDown'].includes(event.key)){event.preventDefault();handleOpen();}},'aria-haspopup':'menu','aria-expanded':isOpen?true:undefined,'nativeID':menuTriggerId};};exports.useMenuTrigger=useMenuTrigger;var useMenu=function useMenu(){var focusManager=(0,_focus.useFocusManager)();var onKeyDown=function onKeyDown(e){switch(e.key){case'ArrowDown':{e.preventDefault();focusManager.focusNext({wrap:true});break;}case'ArrowUp':{e.preventDefault();focusManager.focusPrevious({wrap:true});break;}}};return{onKeyDown:onKeyDown,accessibilityRole:'menu'};};exports.useMenu=useMenu;var useMenuItem=function useMenuItem(_ref2){var textValue=_ref2.textValue,ref=_ref2.ref;return{accessibilityRole:'menuitem',dataSet:{nativebaseMenuItem:textValue},onHoverIn:function onHoverIn(){if(ref.current&&_reactNative.Platform.OS==='web')ref.current.focus();}};};exports.useMenuItem=useMenuItem;var useMenuOptionItem=function useMenuOptionItem(_ref3){var isChecked=_ref3.isChecked,type=_ref3.type;return{accessibilityRole:'menuitem'+(_reactNative.Platform.OS==='web'?type:''),accessibilityState:{checked:isChecked},accessibilityChecked:isChecked};};exports.useMenuOptionItem=useMenuOptionItem;var ITEM_ATTR='data-nativebase-menu-item';var getValue=function getValue(element){var _element$getAttribute;return(_element$getAttribute=element.getAttribute(ITEM_ATTR))!=null?_element$getAttribute:'';};var useMenuTypeahead=function useMenuTypeahead(props){return{onKeyDown:function onKeyDown(event){if(props.onKeyDown){props.onKeyDown(event);}if(event.key.length===1&&!(event.ctrlKey||event.altKey||event.metaKey)){var container=event.currentTarget;var values=Array.from(container.querySelectorAll(\"[\"+ITEM_ATTR+\"]\")).map(getValue);var searchKey=event.key;var foundValue=values.find(function(value){return value.toLowerCase().startsWith(searchKey);});var newItem=container.querySelector(\"[\"+ITEM_ATTR+\"=\\\"\"+foundValue+\"\\\"]\");if(newItem){setTimeout(function(){return newItem.focus();});}}}};};exports.useMenuTypeahead=useMenuTypeahead;\n//# sourceMappingURL=useMenu.js.map"]},"metadata":{},"sourceType":"script"}