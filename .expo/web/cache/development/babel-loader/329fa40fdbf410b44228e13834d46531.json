{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useScreenReaderEnabled = useScreenReaderEnabled;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nfunction useScreenReaderEnabled() {\n  var _React$useState = _react.default.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      enabled = _React$useState2[0],\n      setEnabled = _React$useState2[1];\n\n  var mountedRef = _react.default.useRef(false);\n\n  var handleSetEnabled = function handleSetEnabled(value) {\n    if (mountedRef.current) {\n      setEnabled(value);\n    }\n  };\n\n  _react.default.useEffect(function () {\n    mountedRef.current = true;\n\n    function setInitialValue() {\n      var res;\n      return _regenerator.default.async(function setInitialValue$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_reactNative.AccessibilityInfo.isScreenReaderEnabled());\n\n            case 2:\n              res = _context.sent;\n              handleSetEnabled(res);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    var handler = _reactNative.AccessibilityInfo.addEventListener('screenReaderChanged', function (event) {\n      handleSetEnabled(event);\n    });\n\n    setInitialValue();\n    return function () {\n      mountedRef.current = false;\n\n      _reactNative.AccessibilityInfo.removeEventListener('screenReaderChanged', handler);\n    };\n  });\n\n  return enabled;\n}","map":{"version":3,"sources":["/Users/garethcozens/Documents/repo/cloudratha/react-native-web-nx-demo/node_modules/native-base/lib/commonjs/hooks/useScreenReaderEnabled.js"],"names":["_interopRequireDefault","require","Object","value","exports","_regenerator","_slicedToArray2","_react","_React$useState","_React$useState2","enabled","setEnabled","mountedRef","handleSetEnabled","_context","_reactNative","res","handler","setInitialValue"],"mappings":"AAAA,IAAIA,sBAAsB,GAACC,OAAO,CAAlC,8CAAkC,CAAlC;;AAAmFC,MAAM,CAANA,cAAAA,CAAAA,OAAAA,EAAAA,YAAAA,EAA2C;AAACC,EAAAA,KAAK,EAAjDD;AAA2C,CAA3CA;AAAyDE,OAAO,CAAPA,sBAAAA,GAAAA,sBAAAA;;AAAsD,IAAIC,YAAY,GAACL,sBAAsB,CAACC,OAAO,CAA/C,4BAA+C,CAAR,CAAvC;;AAA+E,IAAIK,eAAe,GAACN,sBAAsB,CAACC,OAAO,CAAlD,sCAAkD,CAAR,CAA1C;;AAA4F,IAAIM,MAAM,GAACP,sBAAsB,CAACC,OAAO,CAAzC,OAAyC,CAAR,CAAjC;;;;AAA6F,SAAA,sBAAA,GAAiC;AAAC,MAAIO,eAAe,GAACD,MAAM,CAANA,OAAAA,CAAAA,QAAAA,CAApB,KAAoBA,CAApB;AAAA,MAAmDE,gBAAgB,GAAC,CAAC,GAAEH,eAAe,CAAlB,OAAA,EAAA,eAAA,EAApE,CAAoE,CAApE;AAAA,MAAmHI,OAAO,GAACD,gBAAgB,CAA3I,CAA2I,CAA3I;AAAA,MAA+IE,UAAU,GAACF,gBAAgB,CAA1K,CAA0K,CAA1K;;AAA8K,MAAIG,UAAU,GAACL,MAAM,CAANA,OAAAA,CAAAA,MAAAA,CAAf,KAAeA,CAAf;;AAA4C,MAAIM,gBAAgB,GAAC,SAAA,gBAAA,CAAA,KAAA,EAAgC;AAAC,QAAGD,UAAU,CAAb,OAAA,EAAsB;AAACD,MAAAA,UAAU,CAAVA,KAAU,CAAVA;AAAoB;AAAjG,GAAA;;AAAkGJ,EAAAA,MAAM,CAANA,OAAAA,CAAAA,SAAAA,CAAyB,YAAU;AAACK,IAAAA,UAAU,CAAVA,OAAAA,GAAAA,IAAAA;;AAAwB,aAAA,eAAA,GAA0B;AAAC,UAAA,GAAA;AAAQ,aAAOP,YAAY,CAAZA,OAAAA,CAAAA,KAAAA,CAA2B,SAAA,gBAAA,CAAA,QAAA,EAAmC;AAAC,eAAA,CAAA,EAAQ;AAAC,kBAAOS,QAAQ,CAARA,IAAAA,GAAcA,QAAQ,CAA7B,IAAA;AAAoC,iBAAA,CAAA;AAAOA,cAAAA,QAAQ,CAARA,IAAAA,GAAAA,CAAAA;AAAgB,qBAAOT,YAAY,CAAZA,OAAAA,CAAAA,KAAAA,CAA2BU,YAAY,CAAZA,iBAAAA,CAAlC,qBAAkCA,EAA3BV,CAAP;;AAA0F,iBAAA,CAAA;AAAOW,cAAAA,GAAG,GAACF,QAAQ,CAAZE,IAAAA;AAAkBH,cAAAA,gBAAgB,CAAhBA,GAAgB,CAAhBA;;AAAsB,iBAAA,CAAA;AAAO,iBAAA,KAAA;AAAU,qBAAOC,QAAQ,CAApO,IAA4NA,EAAP;AAArN;AAA+O;AAAvTT,OAAAA,EAAAA,IAAAA,EAAAA,IAAAA,EAAAA,IAAAA,EAAP,OAAOA,CAAP;AAAwV;;AAAA,QAAIY,OAAO,GAACF,YAAY,CAAZA,iBAAAA,CAAAA,gBAAAA,CAAAA,qBAAAA,EAAsE,UAAA,KAAA,EAAe;AAACF,MAAAA,gBAAgB,CAAhBA,KAAgB,CAAhBA;AAAlG,KAAYE,CAAZ;;AAA6HG,IAAAA,eAAe;AAAG,WAAO,YAAU;AAACN,MAAAA,UAAU,CAAVA,OAAAA,GAAAA,KAAAA;;AAAyBG,MAAAA,YAAY,CAAZA,iBAAAA,CAAAA,mBAAAA,CAAAA,qBAAAA,EAAAA,OAAAA;AAA3C,KAAA;AAAtkBR,GAAAA;;AAAwsB,SAAA,OAAA;AAAgB","sourcesContent":["var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.useScreenReaderEnabled=useScreenReaderEnabled;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireDefault(require(\"react\"));var _reactNative=require(\"react-native\");function useScreenReaderEnabled(){var _React$useState=_react.default.useState(false),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),enabled=_React$useState2[0],setEnabled=_React$useState2[1];var mountedRef=_react.default.useRef(false);var handleSetEnabled=function handleSetEnabled(value){if(mountedRef.current){setEnabled(value);}};_react.default.useEffect(function(){mountedRef.current=true;function setInitialValue(){var res;return _regenerator.default.async(function setInitialValue$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(_reactNative.AccessibilityInfo.isScreenReaderEnabled());case 2:res=_context.sent;handleSetEnabled(res);case 4:case\"end\":return _context.stop();}}},null,null,null,Promise);}var handler=_reactNative.AccessibilityInfo.addEventListener('screenReaderChanged',function(event){handleSetEnabled(event);});setInitialValue();return function(){mountedRef.current=false;_reactNative.AccessibilityInfo.removeEventListener('screenReaderChanged',handler);};});return enabled;}\n//# sourceMappingURL=useScreenReaderEnabled.js.map"]},"metadata":{},"sourceType":"script"}