{"ast":null,"code":"function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport UIManager from \"../../exports/UIManager\";\nimport createDOMProps from \"../createDOMProps\";\nimport useStable from \"../useStable\";\nimport { useRef } from 'react';\nvar emptyObject = {};\n\nfunction setNativeProps(node, nativeProps, classList, pointerEvents, style, previousStyleRef) {\n  if (node != null && nativeProps) {\n    var domProps = createDOMProps(null, _objectSpread(_objectSpread({\n      pointerEvents: pointerEvents\n    }, nativeProps), {}, {\n      classList: [classList, nativeProps.className],\n      style: [style, nativeProps.style]\n    }));\n    var nextDomStyle = domProps.style;\n\n    if (previousStyleRef.current != null) {\n      if (domProps.style == null) {\n        domProps.style = {};\n      }\n\n      for (var styleName in previousStyleRef.current) {\n        if (domProps.style[styleName] == null) {\n          domProps.style[styleName] = '';\n        }\n      }\n    }\n\n    previousStyleRef.current = nextDomStyle;\n    UIManager.updateView(node, domProps);\n  }\n}\n\nexport default function usePlatformMethods(_ref) {\n  var classList = _ref.classList,\n      pointerEvents = _ref.pointerEvents,\n      style = _ref.style;\n  var previousStyleRef = useRef(null);\n  var setNativePropsArgsRef = useRef(null);\n  setNativePropsArgsRef.current = {\n    classList: classList,\n    pointerEvents: pointerEvents,\n    style: style\n  };\n  var ref = useStable(function () {\n    return function (hostNode) {\n      if (hostNode != null) {\n        hostNode.measure = function (callback) {\n          return UIManager.measure(hostNode, callback);\n        };\n\n        hostNode.measureLayout = function (relativeToNode, success, failure) {\n          return UIManager.measureLayout(hostNode, relativeToNode, failure, success);\n        };\n\n        hostNode.measureInWindow = function (callback) {\n          return UIManager.measureInWindow(hostNode, callback);\n        };\n\n        hostNode.setNativeProps = function (nativeProps) {\n          var _ref2 = setNativePropsArgsRef.current || emptyObject,\n              classList = _ref2.classList,\n              style = _ref2.style,\n              pointerEvents = _ref2.pointerEvents;\n\n          setNativeProps(hostNode, nativeProps, classList, pointerEvents, style, previousStyleRef);\n        };\n      }\n    };\n  });\n  return ref;\n}","map":{"version":3,"sources":["/Users/garethcozens/Documents/repo/cloudratha/react-native-web-nx-demo/node_modules/react-native-web/dist/modules/usePlatformMethods/index.js"],"names":["keys","Object","symbols","i","arguments","source","ownKeys","_defineProperty","key","value","enumerable","configurable","writable","obj","emptyObject","node","domProps","createDOMProps","_objectSpread","pointerEvents","classList","nativeProps","style","nextDomStyle","previousStyleRef","UIManager","_ref","useRef","setNativePropsArgsRef","ref","useStable","hostNode","_ref2","setNativeProps"],"mappings":"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","sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Copyright (c) Nicolas Gallagher.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport UIManager from '../../exports/UIManager';\nimport createDOMProps from '../createDOMProps';\nimport useStable from '../useStable';\nimport { useRef } from 'react';\nvar emptyObject = {};\n\nfunction setNativeProps(node, nativeProps, classList, pointerEvents, style, previousStyleRef) {\n  if (node != null && nativeProps) {\n    var domProps = createDOMProps(null, _objectSpread(_objectSpread({\n      pointerEvents: pointerEvents\n    }, nativeProps), {}, {\n      classList: [classList, nativeProps.className],\n      style: [style, nativeProps.style]\n    }));\n    var nextDomStyle = domProps.style;\n\n    if (previousStyleRef.current != null) {\n      if (domProps.style == null) {\n        domProps.style = {};\n      }\n\n      for (var styleName in previousStyleRef.current) {\n        if (domProps.style[styleName] == null) {\n          domProps.style[styleName] = '';\n        }\n      }\n    }\n\n    previousStyleRef.current = nextDomStyle;\n    UIManager.updateView(node, domProps);\n  }\n}\n/**\n * Adds non-standard methods to the hode element. This is temporarily until an\n * API like `ReactNative.measure(hostRef, callback)` is added to React Native.\n */\n\n\nexport default function usePlatformMethods(_ref) {\n  var classList = _ref.classList,\n      pointerEvents = _ref.pointerEvents,\n      style = _ref.style;\n  var previousStyleRef = useRef(null);\n  var setNativePropsArgsRef = useRef(null);\n  setNativePropsArgsRef.current = {\n    classList: classList,\n    pointerEvents: pointerEvents,\n    style: style\n  }; // Avoid creating a new ref on every render. The props only need to be\n  // available to 'setNativeProps' when it is called.\n\n  var ref = useStable(function () {\n    return function (hostNode) {\n      if (hostNode != null) {\n        hostNode.measure = function (callback) {\n          return UIManager.measure(hostNode, callback);\n        };\n\n        hostNode.measureLayout = function (relativeToNode, success, failure) {\n          return UIManager.measureLayout(hostNode, relativeToNode, failure, success);\n        };\n\n        hostNode.measureInWindow = function (callback) {\n          return UIManager.measureInWindow(hostNode, callback);\n        };\n\n        hostNode.setNativeProps = function (nativeProps) {\n          var _ref2 = setNativePropsArgsRef.current || emptyObject,\n              classList = _ref2.classList,\n              style = _ref2.style,\n              pointerEvents = _ref2.pointerEvents;\n\n          setNativeProps(hostNode, nativeProps, classList, pointerEvents, style, previousStyleRef);\n        };\n      }\n    };\n  });\n  return ref;\n}"]},"metadata":{},"sourceType":"module"}